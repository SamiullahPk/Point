!function(o){"use strict";o(document).ready(function(){var e=document.querySelectorAll("button");new ClipboardJS(e);o(".mwb_wpr_level_benefits").click(function(){var e=o(this).data("id");jQuery("#mwb_wpr_popup_wrapper_"+e).css("display","block"),jQuery(".mwb_wpr_close").click(function(){jQuery("#mwb_wpr_popup_wrapper_"+e).css("display","none")})}),o(document).on("click",".mwb_wpr_common_slider",function(){o(this).siblings(".mwb_wpr_common_table").slideToggle("fast"),o(this).children(".mwb_wpr_open_toggle").toggleClass("mwb_wpr_plus_icon")}),o(document).on("click","#mwb_cart_points_apply",function(){var e=o(this).data("id"),c=o(this).data("point"),_=o(this).data("order-limit"),n="",m="",s=(mwb_wpr.mwb_wpr_cart_points_rate,mwb_wpr.mwb_wpr_cart_price_rate,o("#mwb_cart_points").val());if(o("#mwb_wpr_cart_points_notice").html(""),o("mwb_wpr_cart_points_success").html(""),"undefined"!==s&&""!==s&&null!==s&&s>0)if(null!==c&&c>0&&c>=s){r(o(".woocommerce-cart-form")),r(o(".woocommerce-checkout"));var i={action:"mwb_wpr_apply_fee_on_cart_subtotal",user_id:e,mwb_cart_points:s,mwb_nonce:mwb_wpr.mwb_wpr_nonce};o.ajax({url:mwb_wpr.ajaxurl,type:"POST",data:i,dataType:"json",success:function(e){1==e.result?(n=e.message,m=n,o("#mwb_wpr_cart_points_success").removeClass("mwb_rwpr_settings_display_none_notice"),o("#mwb_wpr_cart_points_success").html(m),o("#mwb_wpr_cart_points_success").show()):(n=e.message,m=n,o("#mwb_wpr_cart_points_notice").removeClass("mwb_rwpr_settings_display_none_notice"),o("#mwb_wpr_cart_points_notice").html(m),o("#mwb_wpr_cart_points_notice").show())},complete:function(){t(o(".woocommerce-cart-form")),t(o(".woocommerce-cart-form")),location.reload()}})}else if("undefined"!==_&&""!==_&&null!==_&&_>0)if(o(".woocommerce-cart-form").offset()){o("html, body").animate({scrollTop:o(".woocommerce-cart-form").offset().top},800);var l='<ul class="woocommerce-error" role="alert"><li>'+mwb_wpr.above_order_limit+"</li></ul>";o(l).insertBefore(o(".woocommerce-cart-form"))}else{o("html, body").animate({scrollTop:o(".custom_point_checkout").offset().top},800);l='<ul class="woocommerce-error" role="alert"><li>'+mwb_wpr.above_order_limit+"</li></ul>";o(l).insertBefore(o(".custom_point_checkout"))}else if(o(".woocommerce-cart-form").offset()){o("html, body").animate({scrollTop:o(".woocommerce-cart-form").offset().top},800);l='<ul class="woocommerce-error" role="alert"><li>'+mwb_wpr.not_suffient+"</li></ul>";o(l).insertBefore(o(".woocommerce-cart-form"))}else{o("html, body").animate({scrollTop:o(".custom_point_checkout").offset().top},800);l='<ul class="woocommerce-error" role="alert"><li>'+mwb_wpr.not_suffient+"</li></ul>";o(l).insertBefore(o(".custom_point_checkout"))}}),o(document).on("click","#mwb_wpr_remove_cart_point",function(){r(o(".woocommerce-cart-form"));var e={action:"mwb_wpr_remove_cart_point",mwb_nonce:mwb_wpr.mwb_wpr_nonce};o.ajax({url:mwb_wpr.ajaxurl,type:"POST",data:e,dataType:"json",success:function(e){1==e.result&&o("#mwb_cart_points").val("")},complete:function(){t(o(".woocommerce-cart-form")),location.reload()}})});var r=function(o){c(o)||o.addClass("processing").block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},c=function(o){return o.is(".processing")||o.parents(".processing").length},t=function(o){o.removeClass("processing").unblock()};o(document).on("click","#mwb_wpr_upgrade_level_click",function(){confirm(mwb_wpr.confirmation_msg)&&o(document).find("#mwb_wpr_upgrade_level").click()})})}(jQuery);